---
layout: post
title: "Python的作用域"
date: 2018-03-18 15:11:21
category: programming
tags: python
finished: true
---

关于 Python 的作用域问题，网上一搜一大堆，有的写的还很好（文末我会放上链接），我这里还写，主要是做个补充，再一个原因是我查资料时看到这个问
题，把很久以前做的笔记发出来。

Python 的作用域由`def`、`class`、`lambda`等（这个“等”还有啥，我没查到）语句产生，`if`、`try`、`for`等语句并不会产生新的作用域。
变量名引用分为以下几个作用域进行查找：首先是本地，然后是函数内（如果有的话），之后是全局，最后是内置。

简单来说：

```python
for i in range(10):
    pass

print(i)
```

这一段代码的输出是 `9`，至于为什么，因为 `for` 语句不会产生新的作用域，所以 `i` 由 `for` 语句创建，和 `print(i)` 是同级作用域的，所以这里不会报错，也没有其他问题。这个和其他的C系语言还是有区别的。如果这里像C系语言一样，那么这个 `i` 是属于 `for` 循环创建的块作用域，后面的 `print(i)` 会出现找不到 `i` 的错误。这就像在一个目录下直接以文件名方式访问另一个目录下的文件一样。

上面这一个例子应该是最常遇到的，所以我只举这一个，其他的看[这里][b1]吧。

[b1]: http://www.cnblogs.com/lianzhilei/p/5852959.html